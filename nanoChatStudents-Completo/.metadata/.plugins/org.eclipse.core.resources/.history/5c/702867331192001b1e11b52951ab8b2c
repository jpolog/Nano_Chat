package es.um.redes.nanoChat.server.roomManager;

import java.io.IOException;
import java.net.Socket;
import java.util.HashSet;
import java.util.HashMap;
import java.util.LinkedList;

public class Room extends NCRoomManager {
	
	private HashMap<String,Socket> usersMap;
	private LinkedList<String> msgHistory;
	private long timeLastMessage;
	
	

	public Room(String room_name) {
		super(room_name);
		this.usersMap = new HashMap<String,Socket>();
		this.msgHistory = new LinkedList<String>();
		this.timeLastMessage = 0;
	}

	@Override
	public boolean registerUser(String u, Socket s) {
		// TODO Auto-generated method stub
		return this.description.members.add(u);
	}

	@Override
	public void broadcastMessage(String u, String message) throws IOException {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void removeUser(String u) {
		
		
	}

	@Override
	public void setRoomName(String roomName) {
		this.roomName = roomName;
		
	}

	@Override
	public NCRoomDescription getDescription() {
		return new NCRoomDescription(this.roomName, this.usersMap.keySet(), timeLastMessage);
	}

	@Override
	public int usersInRoom() {
		// TODO Auto-generated method stub
		return 0;
	}

}
